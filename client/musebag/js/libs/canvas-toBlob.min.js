(function(a){"use strict";var b=a.Uint8Array,c=a.HTMLCanvasElement,d=/\s*;\s*base64\s*(?:;|$)/i,e,f=function(a){var c=a.length,d=new b(c/4*3|0),f=0,g=0,h=[0,0],i=0,j=0,k,l,m;while(c--){l=a.charCodeAt(f++);k=e[l-43];if(k!==255&&k!==m){h[1]=h[0];h[0]=l;j=j<<6|k;i++;if(i===4){d[g++]=j>>>16;if(h[1]!==61){d[g++]=j>>>8}if(h[0]!==61){d[g++]=j}i=0}}}return d.buffer};if(b){e=new b([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])}if(c&&!c.prototype.toBlob){c.prototype.toBlob=function(c,e){if(!e){e="image/png"}if(this.mozGetAsFile){return this.mozGetAsFile("canvas",e)}var g=Array.prototype.slice.call(arguments,1),h=this.toDataURL.apply(this,g),i=h.indexOf(","),j=h.substring(i+1),k=d.test(h.substring(0,i)),l=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder,m=new l,n;if(l.fake){n=m.getBlob(e);if(k){n.encoding="base64"}else{n.encoding="URI"}n.data=j;n.size=j.length}else if(b){if(k){m.append(f(j))}else{m.append(decodeURIComponent(j))}n=m.getBlob(e)}c(n)}}})(self)